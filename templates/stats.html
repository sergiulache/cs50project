{% extends "layout.html" %}

{% block title %}
Stats
{% endblock %}

{% block main %}

<body>
    <h1 class="text-center">Stats</h1>
    <div id="carouselExampleCaptions" class="carousel slide">
        <div class="carousel-indicators">
            <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="0" class="active"
                aria-current="true" aria-label="Slide 1"></button>
            <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="1"
                aria-label="Slide 2"></button>
        </div>
        <div class="carousel-inner">
            <div class="carousel-item active">
                <img src="https://bgfons.com/uploads/books/books_texture3031.jpg" class="d-inline w-50" alt="...">
                <div class="carousel-caption d-none d-md-block">
                    <h5>Overall stats</h5>
                    <h5> Total number of books: {{total}}.</h5>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <p> Currently reading {{reading}} books.</p>
                    <p> Finished reading {{read}} books.</p>
                    <p> You've abandoned {{abandoned}} books.</p>
                    <p> You've also planned {{planned}} books for later.</p>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                </div>
            </div>
            <div class="carousel-item">
                <img src="https://bgfons.com/uploads/books/books_texture3031.jpg" class="d-inline w-50" alt="...">
                <div class="carousel-caption d-none d-md-block">
                    <h5>This month's stats</h5>
                    <h5> Total number of books: {{monthly_stats["total_this_month"]}}.</h5>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <p> Currently reading {{monthly_stats["reading_this_month"]}} books.</p>
                    <p> Finished reading {{monthly_stats["read_this_month"]}} books.</p>
                    <p> You've abandoned {{monthly_stats["abandoned_this_month"]}} books.</p>
                    <p> You've also planned {{monthly_stats["planned_this_month"]}} books for later.</p>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                </div>
            </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions"
            data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions"
            data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
        </button>
    </div>
    <br>
    <div class="btn-group">
        <button class="btn btn-primary" data-toggle="collapse" href="#collapseGoal" role="button" aria-expanded="false"
            aria-controls="collapseGoal">
            Last month's goal
        </button>


        <button class="btn btn-primary d-inline" type="button" data-bs-toggle="collapse" data-bs-target="#collapseGoal"
            aria-expanded="false" aria-controls="collapseGoal">
            Set a new goal
        </button>
    </div>
    <br>
    <br>
    <div class="collapse text-center center" id="collapseGoal">
        <div class="card card-body text-center center" style="max-width:550px;  margin-left: auto;
                        margin-right: auto;">
            <div class=" mb-3 text-center center">
                <div class="progress">
                    <div class="progress-bar progress-bar-striped bg-info" role="progressbar" aria-valuenow="21"
                        style='width: {{goal_percent}}%' aria-valuemin="0" aria-valuemax="100">
                    </div>
                </div>
                <br>
                <h5> So far you've read: {{message_goals}} </h5>
            </div>
        </div>
    </div>
    <br>
    <!-- set goal for next month-->

    </p>
    <div class="collapse text-center center" id="collapseGoal">
        <div class="card card-body text-center center" style="max-width:350px;  margin-left: auto;
                        margin-right: auto;">
            <div class="mb-3 text-center center">
                <form action="/setgoal" method="post">
                    <input autocomplete="off" autofocus class="form-control mx-auto w-auto" id="goal" name="goal"
                        placeholder="Number of books" type="number">
                    <br>
                    <button class="btn btn-primary" type="submit">
                        Set goal
                    </button>
                </form>
            </div>
        </div>
    </div>
    <br>
</body>
{% endblock %}